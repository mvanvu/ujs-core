!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("$ujs",[],e):"object"==typeof exports?exports.$ujs=e():t.$ujs=e()}(this,(()=>(()=>{"use strict";var t={156:function(t,e,r){var s=this&&this.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||s(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(438),e),n(r(568),e)},183:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateTime=e.DateTimeError=void 0;class r extends Error{}e.DateTimeError=r;class s{constructor(t,e){const r=s.parse(t);this.isValid=!!r,r?(this.date=r,this.offset=this.date.getTimezoneOffset(),void 0!==e&&this.setOffset(e)):this.date=new Date("")}get valid(){return this.isValid}get iso(){return this.date.toISOString()}get native(){return this.date}get tzOffset(){const t=Math.floor(this.offset/60),e=Math.abs(this.offset)%60;return`${t<=0?"+":"-"}${String(Math.abs(t)).padStart(2,"0")}:${String(Math.abs(e)).padStart(2,"0")}`}static parseOffset(t){if("number"==typeof t)return t;if(t.match(/^[+-]?\d{2}:\d{2}$/)){const[e,r]=t.split(":");let s=Number(r);return["+","-"].includes(e[0])?(s+=60*Number(e.substring(1)),"-"===e[0]&&(s=-s)):s+=60*Number(e.substring(1)),-s}throw new r(`Invalid offset ${t}, the offset format must be a number or the string like: +07:00`)}static from(t,e){return new s(t,e)}static now(t){return s.from("now",t)}static utc(){return s.now().utc()}static yesterday(t){return s.now(t).prevDate().startOf()}static tomorrow(t){return s.now(t).nextDate().startOf()}static parse(t){if(t instanceof s?t=t.valueOf():"now"!==t&&void 0!==t||(t=Date.now()),!t)return!1;const e=new Date(t);return!Number.isNaN(e.getTime())&&e}static daysInMonth(t,e){const r=new Date(e||(new Date).getFullYear(),t-1,27),s=r.getMonth();for(;r.getMonth()===s;)r.setDate(r.getDate()+1);return r.setDate(r.getDate()-1),r.getDate()}static pad(t,e=2){return String(Math.abs(t)).padStart(e,"0")}daysInMonth(){return s.daysInMonth(this.date.getMonth()+1,this.date.getFullYear())}setOffset(t){t=s.parseOffset(t);const e=this.offset-t;return this.date.setTime(this.date.getTime()+6e4*e),this.offset=t,this}utc(){if(0!==this.offset){const t=this.date.getTime()-6e4*-this.offset;this.date.setTime(t),this.offset=0}return this}clone(){const t=s.from(this.valueOf());return t.offset=this.offset,t}add(t,e="millisecond"){switch(e){case"millisecond":this.date.setMilliseconds(this.date.getMilliseconds()+t);break;case"second":this.date.setSeconds(this.date.getSeconds()+t);break;case"minute":this.date.setMinutes(this.date.getMinutes()+t);break;case"hour":this.date.setHours(this.date.getHours()+t);break;case"date":this.date.setDate(this.date.getDate()+t);break;case"week":this.date.setDate(this.date.getDate()+7*t);break;case"month":this.date.setMonth(this.date.getMonth()+t);break;case"year":this.date.setFullYear(this.date.getFullYear()+t)}return this}addYear(t){return this.add(t,"year")}addMonth(t){return this.add(t,"month")}addWeek(t){return this.add(t,"week")}addDate(t){return this.add(t,"date")}addHour(t){return this.add(t,"hour")}addMinute(t){return this.add(t,"minute")}addSecond(t){return this.add(t,"second")}addMillisecond(t){return this.add(t,"millisecond")}nextDate(){return this.addDate(1)}prevDate(){return this.addDate(-1)}nextWeek(){return this.addWeek(1)}prevWeek(){return this.addWeek(-1)}nextMonth(){return this.addMonth(1)}prevMonth(){return this.addMonth(-1)}nextYear(){return this.addYear(1)}prevYear(){return this.addYear(-1)}startOf(){return this.date.setHours(0,0,0,0),this}endOf(){return this.date.setHours(23,59,59,999),this}format(t="YYYY-MM-DD HH:mm:ss Z",e){const{date:r,tzOffset:n}=this,{pad:a}=s,i=r.getFullYear().toString(),o=r.getMonth()+1,c=r.getDate(),u=r.getHours(),l=u>12,f=Math.floor(l?24/u:u),d=r.getMinutes(),h=r.getSeconds(),p=r.getMilliseconds();let g=t.replace(/YYYY/g,i);return g=g.replace(/YY/g,i.substring(2)),g=g.replace(/MMMM/g,r.toLocaleString(e,{month:"long"})),g=g.replace(/MMM/g,r.toLocaleString(e,{month:"short"})),g=g.replace(/MM/g,a(o)),g=g.replace(/M/g,o.toString()),g=g.replace(/DD/g,a(c)),g=g.replace(/D/g,c.toString()),g=g.replace(/dddd/g,r.toLocaleString(e,{weekday:"long"})),g=g.replace(/ddd/g,r.toLocaleString(e,{weekday:"short"})),g=g.replace(/HH/g,a(u)),g=g.replace(/H/g,u.toString()),g=g.replace(/hh/g,a(f)),g=g.replace(/h/g,f.toString()),g=g.replace(/mm/g,a(d)),g=g.replace(/m/g,d.toString()),g=g.replace(/SSS/g,a(p,3)),g=g.replace(/SS/g,a(p,2)),g=g.replace(/ss/g,a(h)),g=g.replace(/s/g,p.toString()),g=g.replace(/A/g,l?"PM":"AM"),g=g.replace(/a/g,l?"pm":"am"),g=g.replace(/x/g,this.valueOf().toString()),g=g.replace(/Z/g,n),g}diff(t,e="millisecond"){t=t instanceof s?t.clone():s.from(t);const r=this.clone().valueOf()-t.valueOf();switch(e){case"millisecond":return r;case"second":return 1e3*r;case"minute":return Math.round(r/6e4);case"hour":return Math.round(r/36e5);case"date":return Math.round(r/864e5);case"week":return Math.round(r/6048e5)}}gt(t,e="millisecond"){return this.diff(t,e)>0}gte(t,e="millisecond"){return this.diff(t,e)>=0}lt(t,e="millisecond"){return this.diff(t,e)<0}lte(t,e="millisecond"){return this.diff(t,e)<=0}eq(t,e="millisecond"){return 0===this.diff(t,e)}toString(){return this.iso}valueOf(){return this.date.getTime()}*[Symbol.iterator](){yield this.date.getFullYear(),yield this.date.getMonth(),yield this.date.getDate(),yield this.date.getHours(),yield this.date.getMinutes(),yield this.date.getSeconds(),yield this.date.getMilliseconds()}}e.DateTime=s},443:function(t,e,r){var s,n,a,i=this&&this.__classPrivateFieldGet||function(t,e,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(t):s?s.value:e.get(t)},o=this&&this.__classPrivateFieldSet||function(t,e,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,r):n?n.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;const c=r(974),u=r(38);class l{constructor(){n.set(this,[])}static get HIGH(){return 100}static get MEDIUM(){return 50}static get NORMAL(){return 25}static get LOW(){return 0}get events(){return i(this,n,"f")}static getInstance(){return i(s,s,"f",a)||o(s,s,new s,"f",a),i(s,s,"f",a)}on(t,e,r){return u.Is.callable(e)&&!i(this,n,"f").find((t=>!0===t.once))&&(i(this,n,"f").push({name:t,handler:e,once:!1,disabled:!1,priority:u.Is.number(r)?r:s.NORMAL}),c.Util.sort(i(this,n,"f"),{key:"priority",desc:!0})),this}once(t,e){if(Array.isArray(t))for(const r of t)this.once(r,e);else i(this,n,"f").find((t=>!0===t.once))||i(this,n,"f").push({name:t,handler:e,once:!0,disabled:!1,priority:s.NORMAL});return this}has(t){return-1!==i(this,n,"f").findIndex((e=>e.name===t))}remove(t){if(void 0===t)i(this,n,"f").splice(0,i(this,n,"f").length);else if(Array.isArray(t))for(const e of t)this.remove(e);else{const e=i(this,n,"f").findIndex((e=>e.name===t));-1!==e&&i(this,n,"f").splice(e,1)}return this}off(t){const e=void 0===t?[]:Array.isArray(t)?t:[t];return i(this,n,"f").forEach((t=>(!e.length||e.includes(t.name))&&!t.disabled&&(t.disabled=!0))),this}open(t){const e=void 0===t?[]:Array.isArray(t)?t:[t];return i(this,n,"f").forEach((t=>(!e.length||e.includes(t.name))&&t.disabled&&(t.disabled=!1))),this}getEventHandlers(t){const e=Array.isArray(t)?t:[t];return i(this,n,"f").filter((t=>e.includes(t.name)&&!t.disabled))}emit(t,...e){const r=[];for(const s of this.getEventHandlers(t))r.push(c.Util.call(this,s.handler,...e)),s.once&&this.remove(s.name);return r}emitAsync(t,...e){return Promise.all(this.emit(t,...e))}async emitAsyncSequently(t,...e){const r=[];for(const s of this.getEventHandlers(t))r.push(await c.Util.callAsync(this,s.handler,...e));return r}}e.EventEmitter=l,s=l,n=new WeakMap,a={value:void 0}},274:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JWT=e.JWTErrorExpired=e.JWTErrorInvalid=e.JWTError=e.Hash=void 0;const s=r(183),n=r(38);class a{static getCrypto(){return"undefined"!=typeof crypto?crypto:"undefined"!=typeof window?window.crypto||window.msCrypto:void 0}static randomBytes(t){const e=a.getCrypto();if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues){const r=new Uint8Array(t);return e.getRandomValues(r),r}}const r=[];for(let e=t;e>0;e--)r.push(Math.floor(256*Math.random()));return r}static uuid(){const t=a.getCrypto();if("function"==typeof t?.randomUUID)return t.randomUUID();let e,r=0;const s=new Array(256);for(let t=0;t<256;t++)s[t]=(t+256).toString(16).substring(1);(void 0===e||r+16>4096)&&(r=0,e=a.randomBytes(4096));const n=Array.prototype.slice.call(e,r,r+=16);return n[6]=15&n[6]|64,n[8]=63&n[8]|128,s[n[0]]+s[n[1]]+s[n[2]]+s[n[3]]+"-"+s[n[4]]+s[n[5]]+"-"+s[n[6]]+s[n[7]]+"-"+s[n[8]]+s[n[9]]+"-"+s[n[10]]+s[n[11]]+s[n[12]]+s[n[13]]+s[n[14]]+s[n[15]]}static async sha256(t){const e=a.getCrypto();if("function"==typeof e?.subtle?.digest)return await e.subtle.digest("SHA-256",(new TextEncoder).encode(t)).then((t=>{const e=[],r=new DataView(t);for(let t=0;t<r.byteLength;t+=4)e.push(("00000000"+r.getUint32(t).toString(16)).slice(-8));return e.join("")}));throw new Error("Crypto not available in your environment")}static encodeBase64(t){return btoa(t)}static decodeBase64(t){return atob(t)}static base64UrlEncode(t){return a.encodeBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static base64UrlDecode(t){const e=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;return e&&(t+="=".repeat(4-e)),a.decodeBase64(t)}static jwt(){return new u}}e.Hash=a;class i extends Error{}e.JWTError=i;class o extends i{constructor(){super(u.INVALID_TOKEN)}}e.JWTErrorInvalid=o;class c extends i{constructor(){super(u.EXPIRED_TOKEN)}}e.JWTErrorExpired=c;class u{constructor(){this.validHeader={alg:"HS256",typ:"JWT"}}async sign(t,e){const r=s.DateTime.from(e.exp),c=s.DateTime.now();if(!r.valid)throw new o;if(r.lte(c))throw new i("The expiry time must greater now");if(!n.Is.string(e.secret)||n.Is.empty(e.secret))throw new i("Must provide a strong secret key");const u=a.base64UrlEncode(JSON.stringify(this.validHeader)),l=a.base64UrlEncode(JSON.stringify({data:t,iat:c.iso,exp:r.iso})),f=a.base64UrlEncode(e.secret);return`${u}.${l}.${a.base64UrlEncode(await a.sha256(`${u}.${l}.${f}`))}`}async verify(t,e){if(!n.Is.string(e.secret)||n.Is.empty(e.secret))throw new i("Must provide a strong secret key");const r=t.split("."),u=this.decode(t);if(3!==r.length||!u)throw new o;let l;const{header:f,payload:d}=u;if(!(n.Is.equals(f,this.validHeader)&&n.Is.object(d)&&n.Is.equals(Object.keys(d).sort(),["data","exp","iat"])&&(l=s.DateTime.from(d.exp)).valid&&a.base64UrlEncode(await a.sha256(`${r[0]}.${r[1]}.${a.base64UrlEncode(e.secret)}`))===r[2]))throw new o;if(l.lte("now"))throw new c;return d.data}decode(t){try{const e=t.split(".");if(e.length>=3){return{header:JSON.parse(a.base64UrlDecode(e[0])),payload:JSON.parse(a.base64UrlDecode(e[1]))}}}catch{}return null}}e.JWT=u,u.INVALID_TOKEN="INVALID_TOKEN",u.EXPIRED_TOKEN="INVALID_IAT",u.EXPIRED="EXPIRED_TOKEN"},568:function(t,e,r){var s=this&&this.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||s(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(183),e),n(r(443),e),n(r(974),e),n(r(274),e),n(r(38),e),n(r(453),e),n(r(932),e)},38:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Is=e.IsError=void 0;const s=r(183);class n extends Error{}e.IsError=n;class a{static typeOf(t,e,r=!1){if(r){if(!Array.isArray(t))return!1;for(const r of t)if(!a.typeOf(r,e,!1))return!1;return!0}const n=typeof t;switch(e){case"string":case"undefined":case"boolean":case"function":case"symbol":return n===e;case"int":case"sint":case"uint":return!(!Number.isInteger(t)||"sint"===e&&t>=0||"uint"===e&&t<0);case"number":case"snumber":case"unumber":return!("number"!==n||!Number(t)||"snumber"===e&&t>=0||"unumber"===e&&t<0);case"bigint":case"sbigint":case"ubigint":return!("bigint"!==n||"sbigint"===e&&t>=0||"ubigint"===e&&t<0);case"object":return a.object(t);case"array":return Array.isArray(t);case"null":return null===t;case"NaN":return Number.isNaN(t);case"map":return t instanceof Map;case"set":return t instanceof Set;case"regex":return t instanceof RegExp;case"date":return t instanceof Date;case"datetime":return t instanceof s.DateTime;case"datestring":return"string"===n&&!!s.DateTime.parse(t);case"primitive":return a.primitive(t);default:return!1}}static equals(t,e){if(t===e)return!0;if((t instanceof Date||t instanceof s.DateTime)&&(e instanceof Date||e instanceof s.DateTime))return t.valueOf()===e.valueOf();if(null!==t&&null!==e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;let r,s;if(t.constructor===Array){if(r=t.length,r!==e.length)return!1;for(s=r;0!=s--;)if(!0!==a.equals(t[s],e[s]))return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let r=t.entries();for(s=r.next();!0!==s.done;){if(!0!==e.has(s.value[0]))return!1;s=r.next()}for(r=t.entries(),s=r.next();!0!==s.done;){if(!0!==a.equals(s.value[1],e.get(s.value[0])))return!1;s=r.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const r=t.entries();for(s=r.next();!0!==s.done;){if(!0!==e.has(s.value[0]))return!1;s=r.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if(r=t.length,r!==e.length)return!1;for(s=r;0!=s--;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t).filter((e=>void 0!==t[e]));if(r=n.length,r!==Object.keys(e).filter((t=>void 0!==e[t])).length)return!1;for(s=r;0!=s--;){const r=n[s];if(!0!==a.equals(t[r],e[r]))return!1}return!0}return t!=t&&e!=e}static emptyObject(t,e=!1){return a.each(e,t,(t=>a.object(t)&&!Object.keys(t).length))}static date(t,e=!1){return a.typeOf(t,"date",e)}static datetime(t,e=!1){return a.typeOf(t,"datetime",e)}static dateString(t,e=!1){return a.typeOf(t,"datestring",e)}static primitive(t,e=!1){return a.each(e,t,(t=>null===t||["string","number","bigint","boolean","symbol","undefined"].includes(typeof t)))}static empty(t,e=!1){return a.each(e,t,(t=>{switch(typeof t){case"boolean":return!1===t;case"number":case"bigint":return 0===t;case"string":return!t.trim().length}return t instanceof Date||t instanceof s.DateTime?isNaN(+t):t instanceof Map||t instanceof Set?!t.size:a.object(t)?!Object.keys(t).length:Array.isArray(t)||Buffer.isBuffer(t)?!t.length:!Boolean(t)}))}static nothing(t,e=!1){return a.each(e,t,(t=>[null,void 0,NaN].includes(t)))}static object(t,e){const r=t=>null!==t&&!Array.isArray(t)&&"object"==typeof t;if(!r(t))return!1;if(e){const s=e.suitable??!0,i=(t,e)=>{if(r(e)){if(!r(t)||s&&!a.equals(Object.keys(t).sort(),Object.keys(e).sort()))throw new n;for(const r in e)i(t[r],e[r])}else if(!a.typeOf(t,e))throw new n};try{i(t,e?.rules)}catch{return!1}}return!0}static flatObject(t,e){if(!a.object(t))return!1;let r=!0,s=!0;!1===e?r=s=!1:a.object(e)&&(r=!1!==e.root,s=!1!==e.deep);const n=t=>{if(Array.isArray(t)){if(!s)throw new Error;for(const e of t)n(e)}else if(a.object(t)){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error;for(const e in t)n(t[e])}else if(a.func(t))throw new Error};try{for(const e in t){if(!r&&Array.isArray(t[e]))throw new Error;n(t[e])}}catch{return!1}return!0}static objectOrArray(t){return a.object(t)||a.array(t)}static array(t,e){if(!Array.isArray(t)||e?.notEmpty&&!t.length)return!1;const r=e?.rules,s=e?.suitable;if(r)for(const e of t){const t=a.object(r);if(t&&!a.object(e,{rules:r,suitable:s})||!t&&!a.typeOf(e,r))return!1}return!0}static asyncFunc(t,e=!1){return a.each(e,t,(t=>t instanceof(async()=>{}).constructor))}static func(t,e=!1){return a.typeOf(t,"function",e)}static callable(t,e=!1){return a.each(e,t,(t=>a.func(t)||a.asyncFunc(t)))}static number(t,e=!1){return a.typeOf(t,"number",e)}static sNumber(t,e=!1){return a.typeOf(t,"snumber",e)}static uNumber(t,e=!1){return a.typeOf(t,"unumber",e)}static int(t,e=!1){return a.typeOf(t,"int",e)}static sInt(t,e=!1){return a.typeOf(t,"sint",e)}static uInt(t,e=!1){return a.typeOf(t,"uint",e)}static bigInt(t,e=!1){return a.typeOf(t,"bigint",e)}static sBigInt(t,e=!1){return a.typeOf(t,"sbigint",e)}static uBigInt(t,e=!1){return a.typeOf(t,"ubigint",e)}static boolean(t,e=!1){return a.typeOf(t,"boolean",e)}static string(t,e=!1){return a.typeOf(t,"string",e)}static null(t,e=!1){return a.typeOf(t,"null",e)}static undefined(t,e=!1){return a.typeOf(t,"undefined",e)}static nan(t,e=!1){return a.typeOf(t,"NaN",e)}static symbol(t,e=!1){return a.typeOf(t,"symbol",e)}static map(t,e=!1){return a.typeOf(t,"map",e)}static set(t,e=!1){return a.typeOf(t,"set",e)}static regex(t,e=!1){return a.typeOf(t,"regex",e)}static nodeJs(){return void 0!==r.g&&r.g&&void 0!==r.g.process&&void 0!==r.g.process.versions&&void 0!==r.g.process.versions.node}static nullOrUndefined(t,e=!1){return a.each(e,t,(t=>null==t))}static strongPassword(t,e,r=!1){return a.each(r,t,(t=>{if("string"!=typeof t)return!1;const r=e?.minLength??8,s=e?.noSpaces??!0,n=e?.minSpecialChars??1,a=e?.minUpper??1,i=e?.minLower??1,o=e?.minNumber??1;return!(t.length<r||s&&t.match(/\s+/)||(t.match(/[._-~`@#$%^&*()+=,]/g)||[]).length<n||(t.match(/[A-Z]/g)||[]).length<a||(t.match(/[a-z]/g)||[]).length<i||(t.match(/[0-9]/g)||[]).length<o)}))}static promise(t,e=!1){return a.each(e,t,(t=>null!==t&&"object"==typeof t&&"function"==typeof t.then))}static email(t,e=!1){return a.each(e,t,(t=>"string"==typeof t&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)))}static inArray(t,e,r=!1){return a.each(r,t,(t=>e.includes(t)))}static includes(t,e,r=!1){return a.each(r,t,(r=>{if(a.string(r))return!!a.string(e)&&r.includes(e);if(a.array(r))return r.includes(e);if(a.object(r)&&(a.object(e)||a.string(e))){if(a.string(e)){const r=e.split(".");let s=t;for(let t=0,e=r.length;t<e;t++){const e=r[t];if(!a.object(s)||!s.hasOwnProperty(e))return!1;s=s[e]}}else for(const s in e)if(!t.hasOwnProperty(s)||!a.equals(r[s],e[s]))return!1;return!0}}))}static class(t,e=!1){return a.each(e,t,(t=>a.func(t)&&t.toString()?.startsWith("class ")))}static each(t,e,r){if(t){if(!Array.isArray(e))return!1;for(const t of e)if(!r(t))return!1;return!0}return r(e)}static mongoId(t,e=!1){return a.each(e,t,(t=>"string"==typeof t&&/^[0-9a-fA-F]{24}$/.test(t)))}static creditCard(t,e,r=!1){return a.each(r,t,(t=>{const r=new RegExp("^3[47][0-9]{13}$").test(t),s=new RegExp("^4[0-9]{12}(?:[0-9]{3})?$").test(t),n=new RegExp("^62[0-9]{14}[0-9]*$").test(t),a=new RegExp("^81[0-9]{14}[0-9]*$").test(t),i=new RegExp("^5[1-5][0-9]{14}$").test(t),o=new RegExp("^2[2-7][0-9]{14}$").test(t),c=new RegExp("^6011[0-9]{12}[0-9]*$").test(t),u=new RegExp("^62[24568][0-9]{13}[0-9]*$").test(t),l=new RegExp("^6[45][0-9]{14}[0-9]*$").test(t),f=new RegExp("^3[0689][0-9]{12}[0-9]*$").test(t),d=new RegExp("^35[0-9]{14}[0-9]*$").test(t);if(e)switch(e){case"VISA":return s;case"AMEX":return r;case"MASTERCARD":return i||o;case"DISCOVER":return c||u||l;case"DINERS":return f;case"JCB":return d;case"CHINA_UNION_PAY":return n||a}return r||s||n||a||i||o||c||u||l||f||d}))}static valid(t,e){const{type:r}=e,s=["typeOf","prototype","nodeJs","valid","each"],n=!0===e.each;return a.each(n,t,(t=>{if(s.includes(r)||!a.callable(a[r]))return!1;switch(r){case"object":return a.object(t,e.meta);case"array":return a.array(t,e.meta);case"objectOrArray":return!!a.objectOrArray(t)&&(Array.isArray(t)?a.array(t,e.meta?.array):a.object(t,e.meta?.object));case"equals":const{equalsTo:s}=e.meta??{};return void 0!==s&&a.equals(t,s);case"flatObject":const{allowArray:n}=e.meta??{};return a.flatObject(t,n);case"strongPassword":return a.strongPassword(t,e.meta);case"inArray":return a.inArray(t,e.meta);case"includes":return a.includes(t,e.meta);case"creditCard":return a.creditCard(t,e.meta);default:return a[r].call(null,t,!1)}}))}}e.Is=a},453:function(t,e,r){var s,n,a=this&&this.__classPrivateFieldSet||function(t,e,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,r):n?n.value=r:e.set(t,r),r},i=this&&this.__classPrivateFieldGet||function(t,e,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=e.RegistryConsistentError=e.RegistryDataError=void 0;const o=r(38),c=r(932),u=r(443),l=r(974);class f extends Error{}e.RegistryDataError=f;class d extends Error{}e.RegistryConsistentError=d;class h{constructor(t,e){s.set(this,void 0),n.set(this,new u.EventEmitter),this.cached={},this.parse(t,e),a(this,s,!0===e?.consistent,"f")}static from(t,e){return new h(t,e)}merge(t,e){return this.consistent(),this.extends(t,e)}extends(t,e){this.consistent();const r=(t,s)=>{if(o.Is.array(t))for(let e=0,n=t.length;e<n;e++)r(t[e],`${s?`${s}.`:""}${e}`);else if(o.Is.object(t))for(const e in t)r(t[e],`${s?`${s}.`:""}${e}`);else o.Is.string(s)&&this.set(s,t,e)};return r(h.from(t).valueOf()),this}parse(t,e){if(this.consistent(),void 0===t)t={};else if(o.Is.string(t)&&["{","["].includes(t[0]))try{t=JSON.parse(t)}catch{throw new f("Invalid JSON string data")}else(o.Is.object(t)||o.Is.array(t))&&!1!==e?.clone&&(t=l.Util.clone(t));if(this.data=t,!this.isPathArray()&&!this.isPathObject())throw new f("Invalid registry data, the data must be an Object<key, value> or a JSON string or an ARRAY");return!0===e?.validate&&this.validate(),this.cached={},this}validate(t){if(!this.isValidData(t))throw new f("The object element data must be a Record<key, value> or Array<[flat] | Record<key, value>> not from any Class/Function constructor");return this}isValidData(t){if(t=t??this.data,Array.isArray(t)){for(const e of t)if(o.Is.object(e)&&!o.Is.flatObject(e))return!1;return!0}return!(o.Is.object(t)&&!o.Is.flatObject(t))}isPathNum(t){return/^\d+$/.test(t)}preparePath(t){return t.match(/\[\d+\]/)&&(t=c.Transform.trim(t.replace(/\[(\d+)\]/g,".$1"),{specialChars:"."})),t}get(t,e,r){const s=this.preparePath(t);if(void 0===this.cached[s])if(-1===s.indexOf("."))this.cached[s]=this.data[s];else{const t=s.split(".");let r=this.data;for(let s=0,n=t.length;s<n;s++)if(r=r[t[s]],!o.Is.objectOrArray(r)){r=s+1===n?r:e;break}this.cached[s]=r}const n=void 0===this.cached[s];return n&&this.consistent(t),n||this.cached[s]===e?e:r?c.Transform.clean(this.cached[s],r):this.cached[s]}consistent(t){if(i(this,s,"f"))throw new d("This registry in consistent mode, make sure you don't get the no exists value and don't set/remove any value"+(t?`, path: ${t}`:""))}set(t,e,r){this.consistent(t);const s=this.preparePath(t),a=this.get(t);!0===r&&this.validate(e);for(const t in this.cached)t.startsWith(s)&&delete this.cached[t];if(-1===s.indexOf("."))void 0===e?this.isPathNum(s)&&Array.isArray(this.data)?this.data.splice(Number(t),1):delete this.data[s]:this.data[s]=e;else{let t=this.data;const r=s.split("."),n=r.length-1;for(let s=0;s<n;s++){const n=r[s];if(!t[n]||"object"!=typeof t[n]&&!Array.isArray(t[n])){if(void 0===e)return this.isPathNum(n)&&Array.isArray(t[n])?t.splice(Number(n),1):delete t[n],this;this.isPathNum(n)?t[n]=[]:t[n]={}}t=t[n]}const a=this.isPathNum(r[n]);a&&Array.isArray(t)?t.splice(Number(r[n]),1):delete t[r[n]],void 0!==e&&(a&&!Array.isArray(t)&&(t=[]),t[r[n]]=e)}const c=this.get(t);return o.Is.equals(a,c)||i(this,n,"f").emit(s,c,a),void 0===e&&i(this,n,"f").remove(s),this}initPathValue(t,e,r){return this.has(t)||this.set(t,e,r),e}has(t){return!o.Is.undefined(this.get(t,void 0))}is(t,e){const r=this.get(t);return o.Is.undefined(e)?c.Transform.toBoolean(r):r===e}isCached(t){return this.cached.hasOwnProperty(this.preparePath(t))}isPathArray(t){return o.Is.array(t?this.get(t):this.data)}isPathObject(t){return o.Is.object(t?this.get(t):this.data)}isPathFlat(t){return o.Is.primitive(this.get(t))}remove(t){return this.set(t,void 0)}toString(){return JSON.stringify(this.data)}valueOf(){return this.data}clone(){return h.from(this.data,{clone:!0,consistent:i(this,s,"f")})}pick(t){const e=h.from();for(const r of Array.isArray(t)?t:[t]){const t=this.preparePath(r);e.set(t,this.get(t))}return a(e,s,i(this,s,"f"),"f"),e}omit(t){const e=this.clone();a(e,s,!1,"f");for(const r of Array.isArray(t)?t:[t])e.remove(this.preparePath(r));return a(e,s,i(this,s,"f"),"f"),e}watch(t,e){for(const r of Array.isArray(t)?t:[t]){const t=this.preparePath(r);i(this,n,"f").has(t)||i(this,n,"f").on(t,e)}}}e.Registry=h,s=new WeakMap,n=new WeakMap},932:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Transform=void 0;const s=r(38);class n{static trim(t,e){const r=n.toString(t),s=e?.specialChars?.split("")?.join("|")??"",a=/[\n\t\s]/,i=()=>{for(let t=0,e=r.length;t<e;t++)if(!(r[t].match(a)||s.length&&s.includes(r[t])))return r.substring(t);return""};switch(e?.pos||"both"){case"left":return s?i():r.trimStart();case"right":return s?(()=>{for(let t=r.length-1;t>=0;t--)if(!(r[t].match(a)||s.length&&s.includes(r[t])))return r.substring(0,t+1);return""})():r.trimEnd();default:return s?(()=>{const t=i().split("");for(let e=t.length-1;e>=0&&(t[e].match(a)||s.length&&s.includes(t[e]));e--)t.splice(e,1);return t.join("")})():r.trim()}}static toString(t){switch(typeof t){case"string":return t;case"object":if(Array.isArray(t)||null!==t)return JSON.stringify(t);default:return String(t)}}static toJsonObject(t,e){if(s.Is.objectOrArray(t)&&(t=JSON.stringify(t)),s.Is.string(t)&&["{","["].includes(t[0]))try{return JSON.parse(t)}catch{}return s.Is.object(e)?e:s.Is.nothing(t)?{}:[t]}static toBoolean(t){switch(typeof t){case"number":case"bigint":return 0!==t;case"boolean":return t;case"string":if("true"===(t=t.trim().toLowerCase())||"1"===t)return!0;if("false"===t||"0"===t)return!1}return Boolean(t)}static toNumber(t){switch(typeof t){case"number":case"bigint":return t;case"boolean":return t?1:0;default:const e=Number(t);return isNaN(e)?0:e}}static toUNumber(t){return Math.abs(n.toNumber(t))}static toInt(t){let e=n.toNumber(t);return e>Number.MAX_SAFE_INTEGER?e=Number.MAX_SAFE_INTEGER:e<-Number.MAX_SAFE_INTEGER&&(e=-Number.MAX_SAFE_INTEGER),Number.parseInt(e.toString())}static toUInt(t){return Math.abs(n.toInt(t))}static toArrayUnique(t){if(Array.isArray(t)){const e=[];for(const r of t)e.length&&e.find((t=>s.Is.equals(t,r)))||e.push(r);return e}return[t]}static toPath(t){return n.toString(t).trim().toLowerCase().replace(/[^a-z0-9-/]/gi,"-").replace(/-+/g,"-").replace(/\/+/g,"/").replace(/^\/+|\/+$/g,"").replace(/^-+|-+$/g,"")}static toAlnum(t){return n.toString(t).trim().replace(/[^a-zA-Z0-9]/g,"")}static toNoneDiacritics(t){return n.toString(t).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static toNonAccentVietnamese(t){return t=n.toString(t).replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g,"a").replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g,"e").replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g,"i").replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g,"o").replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g,"u").replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g,"y").replace(/ƒë/g,"d").replace(/√Ä|√Å|·∫†|·∫¢|√É|√Ç|·∫¶|·∫§|·∫¨|·∫®|·∫™|ƒÇ|·∫∞|·∫Æ|·∫∂|·∫≤|·∫¥/g,"A").replace(/√à|√â|·∫∏|·∫∫|·∫º|√ä|·ªÄ|·∫æ|·ªÜ|·ªÇ|·ªÑ/g,"E").replace(/√å|√ç|·ªä|·ªà|ƒ®/g,"I").replace(/√í|√ì|·ªå|·ªé|√ï|√î|·ªí|·ªê|·ªò|·ªî|·ªñ|∆†|·ªú|·ªö|·ª¢|·ªû|·ª†/g,"O").replace(/√ô|√ö|·ª§|·ª¶|≈®|∆Ø|·ª™|·ª®|·ª∞|·ª¨|·ªÆ/g,"U").replace(/·ª≤|√ù|·ª¥|·ª∂|·ª∏/g,"Y").replace(/ƒê/g,"D").replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"").replace(/\u02C6|\u0306|\u031B/g,""),n.toNoneDiacritics(t)}static toASCIIString(t){return n.clean(t,["toString","toNoneDiacritics"]).replace(/[^a-zA-Z0-9\s]/g,"")}static toSafeFileName(t){let e=n.toNonAccentVietnamese(t),r="";if(e.includes(".")){const t=e.split(".");r=t.pop(),e=t.join(".")}return`${n.toASCIIString(n.toPath(e))}${r?`.${r}`:""}`}static toDefault(t,...e){const r=[null,void 0,NaN];if(!r.includes(t))return t;for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!r.includes(s))return s}}static toStripTags(t,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");const r=/<\/?([a-z0-9]*)\b[^>]*>?/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;let a=n.toString(t);for(a="<"===a.substring(a.length-1)?a.substring(0,a.length-1):a;;){const t=a;if(a=t.replace(s,"").replace(r,(function(t,r){return e.indexOf("<"+r.toLowerCase()+">")>-1?t:""})),t===a)return a}}static toSafeHtml(t,e){const r=Array.isArray(e?.allowedTags)?e.allowedTags:["p","b","i","em","strong","a","ul","ol","li","br","hr","img","table","thead","tfoot","tr","td","th","div","span","h1","h2","h3","h4","h5","h6"],s=Array.isArray(e?.allowedAttributes)?e.allowedAttributes:["href","src"];return r.length?n.trim(t).replace(/<\/?([^\>]+)>/gi,((t,e)=>{const n=e.split(" ")[0];return r.includes(n)?t.replace(/([a-z0-9_-]+)\s*=\s*["']([^"']+)["']/gi,(t=>{const e=t.split("=")[0]?.trim();return s.includes(e)?t.trim():""})).trim().replace(/<\s+/g,"<").replace(/\s+>/g,">"):""})).replace(/\s+/gi," "):n.toStripTags(t)}static toLowerCase(t){return n.toString(t).toLowerCase()}static toUpperCase(t){return n.toString(t).toUpperCase()}static clean(t,e,...r){const s={};Object.getOwnPropertyNames(n).filter((t=>"function"==typeof n[t]&&!["clean","cleanIfType"].includes(t))).forEach((t=>s[t.toLowerCase()]=n[t])),Array.isArray(e)||(e=[e]);for(const n of e.map((t=>t.toLowerCase()))){let e=s[n];e||0===n.indexOf("to")||(e=s[`to${n}`]),"function"==typeof e&&(t=e.apply(null,[t,...r]))}return t}static cleanIfType(t,e,r){for(const a of s.Is.array(r)?r:[r])if(s.Is.typeOf(t,a))return n.clean(t,e);return t}}e.Transform=n},974:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.UtilRaceError=void 0;const s=r(183),n=r(38);class a extends Error{}e.UtilRaceError=a;class i{static clone(t){let e=t;if(n.Is.primitive(e))return e;if(t instanceof s.DateTime||n.Is.object(t)&&n.Is.func(t.clone))e=t.clone();else if(t instanceof Date)e=new Date(t);else if(t instanceof RegExp)e=new RegExp(t.source,t.flags);else if(t instanceof Set)e=new Set,t.forEach((t=>e.add(i.clone(t))));else if(t instanceof Map)e=new Map,t.forEach(((t,r)=>e.set(r,i.clone(t))));else if(Array.isArray(t))e=[],t.forEach((t=>e.push(i.clone(t))));else if(n.Is.object(t))e={},Object.assign(e,...Object.keys(t).map((e=>({[e]:i.clone(t[e])}))));else if("function"==typeof t?.constructor){const r="function"==typeof t.valueOf?t.valueOf():void 0;r&&Object(r)!==r&&(e=new t.constructor(r))}return e}static async callback(t,e=[],r){return n.Is.asyncFunc(t)?await t.apply(r,e):t instanceof Promise?await t:n.Is.func(t)?t.apply(r,e):t}static call(t,e,...r){return n.Is.class(e)?new e(...r):n.Is.callable(e)?e.call(t,...r):e}static callAsync(t,e,...r){return Promise.resolve(i.call(t,e,...r))}static sort(t,e){const r=e?.key,s=!0===e?.desc,a=(t,e)=>s?t>e?-1:t<e?1:0:t<e?-1:t>e?1:0;if(Array.isArray(t))r?t.sort(((t,e)=>n.Is.object(t)&&n.Is.object(e)?a(t[r],e[r]):a(t,e))):t.sort(a);else if(n.Is.object(t)){const e=Object.keys(t),r={};e.sort(((t,e)=>{const r=/^-?\d+\.?\d*$/;return r.test(t)&&r.test(e)?a(Number(t),Number(e)):a(t,e)}));for(const s of e)r[s]=t[s];for(const e in t)delete t[e];Object.assign(t,r)}return t}static baseName(t,e){let r=t;const s=r.charAt(r.length-1);return"/"!==s&&"\\"!==s||(r=r.slice(0,-1)),r=r.replace(/^.*[/\\]/g,""),"string"==typeof e&&r.substring(r.length-e.length)===e&&(r=r.substring(0,r.length-e.length)),r}static dirName(t){return t.replace(/\\/g,"/").replace(/\/[^/]*\/?$/,"")}static async race(t,e){return await Promise.race([Promise.resolve(i.callback(t)),new Promise(((t,r)=>{setTimeout((()=>r(new a("Race timeout."))),e)}))])}static debug(...t){const e="[35m",r="[35m",s="[0m",a=(t,e)=>`${e}${t}${s}`,i=(t,o)=>{if(t instanceof Error)return console.debug(t);let c="";if(n.Is.object(t)){c+=a("{",e)+"\n";for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(c+="  ".repeat(o+1)+a(e,"[36m")+": ",c+=i(t[e],o+1),c+=",\n");c=c.slice(0,-2)+"\n"+"  ".repeat(o)+a("}",e)}else if(n.Is.array(t)){c+=a("[",r);for(let e=0;e<t.length;e++)e>0&&(c+=", "),c+=i(t[e],o+1);c+=a("]",r)}else n.Is.string(t)?c+=`[37m${JSON.stringify(t)}`:n.Is.number(t)?c+=`[33m${t}`:n.Is.boolean(t)?c+=`[34m${t}`:n.Is.null(t)?c+="[34mnull":c+=t;return c+s};console.log(...t.map((t=>i(t,0))))}static debugDev(...t){n.Is.nodeJs()}static numberFormat(t,e){if(isNaN(t))return"NaN";let r=t.toFixed(e?.decimals??0).replace(".",e?.decimalPoint??".").replace(/\B(?=(\d{3})+(?!\d))/g,e?.separator??",");return e?.prefix&&(r=`${e.prefix}${r}`),e?.suffix&&(r=`${r}${e.suffix}`),e?.pattern?.includes("{value}")&&(r=e.pattern.replace("{value}",r)),r}static uFirst(t){return t.length>1?`${t[0].toUpperCase()}${t.substring(1)}`:t}static lFirst(t){return t.length>1?`${t[0].toLowerCase()}${t.substring(1)}`:t}static toCapitalize(t,e=!1){const r=t.split(/\b/).map(i.uFirst);return e?r.filter((t=>!!t.trim()&&!/\W/.test(t))).join(""):r.join("")}static toCamelCase(t){return i.lFirst(i.toCapitalize(t,!0))}static camelToSnackCase(t){const e=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];e.push(s===s.toUpperCase()?`_${s}`:s)}return e.join("").toLowerCase()}static snackToCamelCase(t){const e=[];let r=!1;for(let s=0,n=t.length;s<n;s++){const n=t[s];"_"!==n?r?(r=!1,e.push(n.toUpperCase())):e.push(n.toLowerCase()):r=!0}return e[0]&&(e[0]=e[0].toLowerCase()),e.join("")}static truncate(t,e){const r=e.pad||"...",s=e.maxLength||50;if(t=t.trim(),!0===e.wordCount){const e=t.split(/\s+/),n=e.length,a=e.slice(0,s);t=a.join(" "),n>a.length&&(t+=r)}else t.length>(t=t.substring(0,s)).length&&(t+=r);return t}static repeat(t,e=0){let r=t;if((e=parseInt(e.toString()))<=0)return"";for(;--e>0;)r=`${r}${t}`;return r}}e.Util=i},438:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,r),a.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(156)})()));