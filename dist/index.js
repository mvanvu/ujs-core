!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$ujs",[],t):"object"==typeof exports?exports.$ujs=t():e.$ujs=t()}(this,(()=>(()=>{"use strict";var e={885:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(769),t),o(n(877),t)},540:(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return o=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o},o.apply(null,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},c(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.DateTimeError=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,o=(t=i,n=s(),function(){var e,r,o,i,u=a(t);if(n){var l=a(this).constructor;e=Reflect.construct(u,arguments,l)}else e=u.apply(this,arguments);return r=this,!(o=e)||"object"!=((i=o)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function i(){return r(this,i),o.apply(this,arguments)}return i}(c(Error));t.DateTimeError=f;var h=function(){function e(t,n){r(this,e);var o=e.parse(t);this.isValid=!!o,o?(this.date=o,this.offset=this.date.getTimezoneOffset(),void 0!==n&&this.setOffset(n)):this.date=new Date("")}var t,o,a;return t=e,o=[{key:"valid",get:function(){return this.isValid}},{key:"iso",get:function(){return this.date.toISOString()}},{key:"native",get:function(){return this.date}},{key:"tzOffset",get:function(){var e=Math.floor(this.offset/60),t=Math.abs(this.offset)%60;return"".concat(e<=0?"+":"-").concat(String(Math.abs(e)).padStart(2,"0"),":").concat(String(Math.abs(t)).padStart(2,"0"))}},{key:"daysInMonth",value:function(){return e.daysInMonth(this.date.getMonth()+1,this.date.getFullYear())}},{key:"setOffset",value:function(t){t=e.parseOffset(t);var n=this.offset-t;return this.date.setTime(this.date.getTime()+6e4*n),this.offset=t,this}},{key:"utc",value:function(){if(0!==this.offset){var e=this.date.getTime()-6e4*-this.offset;this.date.setTime(e),this.offset=0}return this}},{key:"clone",value:function(){var t=e.from(this.valueOf());return t.offset=this.offset,t}},{key:"add",value:function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond"){case"millisecond":this.date.setMilliseconds(this.date.getMilliseconds()+e);break;case"second":this.date.setSeconds(this.date.getSeconds()+e);break;case"minute":this.date.setMinutes(this.date.getMinutes()+e);break;case"hour":this.date.setHours(this.date.getHours()+e);break;case"date":this.date.setDate(this.date.getDate()+e);break;case"week":this.date.setDate(this.date.getDate()+7*e);break;case"month":this.date.setMonth(this.date.getMonth()+e);break;case"year":this.date.setFullYear(this.date.getFullYear()+e)}return this}},{key:"addYear",value:function(e){return this.add(e,"year")}},{key:"addMonth",value:function(e){return this.add(e,"month")}},{key:"addWeek",value:function(e){return this.add(e,"week")}},{key:"addDate",value:function(e){return this.add(e,"date")}},{key:"addHour",value:function(e){return this.add(e,"hour")}},{key:"addMinute",value:function(e){return this.add(e,"minute")}},{key:"addSecond",value:function(e){return this.add(e,"second")}},{key:"addMillisecond",value:function(e){return this.add(e,"millisecond")}},{key:"nextDate",value:function(){return this.addDate(1)}},{key:"prevDate",value:function(){return this.addDate(-1)}},{key:"nextWeek",value:function(){return this.addWeek(1)}},{key:"prevWeek",value:function(){return this.addWeek(-1)}},{key:"nextMonth",value:function(){return this.addMonth(1)}},{key:"prevMonth",value:function(){return this.addMonth(-1)}},{key:"nextYear",value:function(){return this.addYear(1)}},{key:"prevYear",value:function(){return this.addYear(-1)}},{key:"startOf",value:function(){return this.date.setHours(0,0,0,0),this}},{key:"endOf",value:function(){return this.date.setHours(23,59,59,999),this}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss Z",n=arguments.length>1?arguments[1]:void 0,r=this.date,o=this.tzOffset,i=e.pad,a=r.getFullYear().toString(),u=r.getMonth()+1,l=r.getDate(),c=r.getHours(),s=c>12,f=Math.floor(s?24/c:c),h=r.getMinutes(),v=r.getSeconds(),y=r.getMilliseconds(),p=t.replace(/YYYY/g,a);return(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=(p=p.replace(/YY/g,a.substring(2))).replace(/MMMM/g,r.toLocaleString(n,{month:"long"}))).replace(/MMM/g,r.toLocaleString(n,{month:"short"}))).replace(/MM/g,i(u))).replace(/M/g,u.toString())).replace(/DD/g,i(l))).replace(/D/g,l.toString())).replace(/dddd/g,r.toLocaleString(n,{weekday:"long"}))).replace(/ddd/g,r.toLocaleString(n,{weekday:"short"}))).replace(/HH/g,i(c))).replace(/H/g,c.toString())).replace(/hh/g,i(f))).replace(/h/g,f.toString())).replace(/mm/g,i(h))).replace(/m/g,h.toString())).replace(/SSS/g,i(y,3))).replace(/SS/g,i(y,2))).replace(/ss/g,i(v))).replace(/s/g,y.toString())).replace(/A/g,s?"PM":"AM")).replace(/a/g,s?"pm":"am")).replace(/x/g,this.valueOf().toString())).replace(/Z/g,o)}},{key:"diff",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";t=u(t,e)?t.clone():e.from(t);var r=this.clone().valueOf()-t.valueOf();switch(n){case"millisecond":return r;case"second":return 1e3*r;case"minute":return Math.round(r/6e4);case"hour":return Math.round(r/36e5);case"date":return Math.round(r/864e5);case"week":return Math.round(r/6048e5)}}},{key:"gt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>0}},{key:"gte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>=0}},{key:"lt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<0}},{key:"lte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<=0}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return 0===this.diff(e,t)}},{key:"toString",value:function(){return this.iso}},{key:"valueOf",value:function(){return this.date.getTime()}},{key:Symbol.iterator,value:function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return[4,this.date.getFullYear()];case 1:return e.sent(),[4,this.date.getMonth()];case 2:return e.sent(),[4,this.date.getDate()];case 3:return e.sent(),[4,this.date.getHours()];case 4:return e.sent(),[4,this.date.getMinutes()];case 5:return e.sent(),[4,this.date.getSeconds()];case 6:return e.sent(),[4,this.date.getMilliseconds()];case 7:return e.sent(),[2]}}))}}],a=[{key:"parseOffset",value:function(e){if("number"==typeof e)return e;if(e.match(/^[+-]?\d{2}:\d{2}$/)){var t=(a=e.split(":"),u=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(a,u)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],o=t[1],i=Number(o);return["+","-"].includes(r[0])?(i+=60*Number(r.substring(1)),"-"===r[0]&&(i=-i)):i+=60*Number(r.substring(1)),-i}var a,u;throw new f("Invalid offset ".concat(e,", the offset format must be a number or the string like: +07:00"))}},{key:"from",value:function(t,n){return new e(t,n)}},{key:"now",value:function(t){return e.from("now",t)}},{key:"utc",value:function(){return e.now().utc()}},{key:"yesterday",value:function(t){return e.now(t).prevDate().startOf()}},{key:"tomorrow",value:function(t){return e.now(t).nextDate().startOf()}},{key:"parse",value:function(t){if(u(t,e)?t=t.valueOf():"now"!==t&&void 0!==t||(t=Date.now()),!t)return!1;var n=new Date(t);return!Number.isNaN(n.getTime())&&n}},{key:"daysInMonth",value:function(e,t){for(var n=new Date(t||(new Date).getFullYear(),e-1,27),r=n.getMonth();n.getMonth()===r;)n.setDate(n.getDate()+1);return n.setDate(n.getDate()-1),n.getDate()}},{key:"pad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(Math.abs(e)).padStart(t,"0")}}],o&&i(t.prototype,o),a&&i(t,a),e}();t.DateTime=h},766:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var u=n(645),l=n(409),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[]}var t,n,r;return t=e,n=[{key:"events",get:function(){return this._events}},{key:"on",value:function(t,n,r){return l.Is.callable(n)&&!this._events.find((function(e){return!0===e.once}))&&(this._events.push({name:t,handler:n,once:!1,disabled:!1,priority:l.Is.number(r)?r:e.NORMAL}),u.Util.sort(this._events,{key:"priority",desc:!0})),this}},{key:"once",value:function(t,n){if(Array.isArray(t)){var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this.once(l,n)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else this._events.find((function(e){return!0===e.once}))||this._events.push({name:t,handler:n,once:!0,disabled:!1,priority:e.NORMAL});return this}},{key:"has",value:function(e){return-1!==this._events.findIndex((function(t){return t.name===e}))}},{key:"remove",value:function(e){if(void 0===e)this._events.splice(0,this._events.length);else if(Array.isArray(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.remove(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else{var u=this._events.findIndex((function(t){return t.name===e}));-1!==u&&this._events.splice(u,1)}return this}},{key:"off",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach((function(e){return(!t.length||t.includes(e.name))&&!e.disabled&&(e.disabled=!0)})),this}},{key:"open",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach((function(e){return(!t.length||t.includes(e.name))&&e.disabled&&(e.disabled=!1)})),this}},{key:"getEventHandlers",value:function(e){var t=Array.isArray(e)?e:[e];return this._events.filter((function(e){return t.includes(e.name)&&!e.disabled}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[],i=!0,l=!1,c=void 0;try{for(var s,f=this.getEventHandlers(e)[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var h,v=s.value;o.push((h=u.Util).call.apply(h,[this,v.handler].concat(a(n)))),v.once&&this.remove(v.name)}}catch(e){l=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(l)throw c}}return o}},{key:"emitAsync",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.all(this.emit.apply(this,[e].concat(a(n))))}},{key:"emitAsyncSequently",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,l=this;return(i=function(){var t,r,o,i,c,s,f,h,v,y;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:t=[],r=!0,o=!1,i=void 0,p.label=1;case 1:p.trys.push([1,6,7,8]),c=l.getEventHandlers(e)[Symbol.iterator](),p.label=2;case 2:return(r=(s=c.next()).done)?[3,5]:(f=s.value,v=t.push,[4,(h=u.Util).callAsync.apply(h,[l,f.handler].concat(a(n)))]);case 3:v.apply(t,[p.sent()]),p.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return y=p.sent(),o=!0,i=y,[3,8];case 7:try{r||null==c.return||c.return()}finally{if(o)throw i}return[7];case 8:return[2,t]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function u(e){o(a,n,r,u,l,"next",e)}function l(e){o(a,n,r,u,l,"throw",e)}u(void 0)}))})()}}],r=[{key:"HIGH",get:function(){return 100}},{key:"MEDIUM",get:function(){return 50}},{key:"NORMAL",get:function(){return 25}},{key:"LOW",get:function(){return 0}},{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],n&&i(t.prototype,n),r&&i(t,r),e}();t.EventEmitter=c},481:(e,t,n)=>{function r(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,l,"next",e)}function l(e){r(a,o,i,u,l,"throw",e)}u(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return a=v()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&f(o,n.prototype),o},a.apply(null,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},h(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){var t=v();return function(){var n,r,o,i,a=c(e);if(t){var u=c(this).constructor;n=Reflect.construct(a,arguments,u)}else n=a.apply(this,arguments);return r=this,!(o=n)||"object"!=((i=o)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}function p(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=t.JWTErrorExpired=t.JWTErrorInvalid=t.JWTError=t.Hash=void 0;var d=n(540),b=n(409),m=function(){function e(){i(this,e)}return l(e,null,[{key:"getCrypto",value:function(){return"undefined"!=typeof crypto?crypto:"undefined"!=typeof window?window.crypto||window.msCrypto:void 0}},{key:"randomBytes",value:function(t){var n=e.getCrypto();if(void 0!==n){if(void 0!==n.randomBytes)return n.randomBytes;if(void 0!==n.getRandomValues){var r=new Uint8Array(t);return n.getRandomValues(r),r}}for(var o=[],i=t;i>0;i--)o.push(Math.floor(256*Math.random()));return o}},{key:"uuid",value:function(){var t=e.getCrypto();if("function"==typeof(null==t?void 0:t.randomUUID))return t.randomUUID();for(var n,r=0,o=new Array(256),i=0;i<256;i++)o[i]=(i+256).toString(16).substring(1);(void 0===n||r+16>4096)&&(r=0,n=e.randomBytes(4096));var a=Array.prototype.slice.call(n,r,r+=16);return a[6]=15&a[6]|64,a[8]=63&a[8]|128,o[a[0]]+o[a[1]]+o[a[2]]+o[a[3]]+"-"+o[a[4]]+o[a[5]]+"-"+o[a[6]]+o[a[7]]+"-"+o[a[8]]+o[a[9]]+"-"+o[a[10]]+o[a[11]]+o[a[12]]+o[a[13]]+o[a[14]]+o[a[15]]}},{key:"sha256",value:function(t){return o((function(){var n,r;return p(this,(function(o){switch(o.label){case 0:return"function"!=typeof(null==(r=e.getCrypto())||null===(n=r.subtle)||void 0===n?void 0:n.digest)?[3,2]:[4,r.subtle.digest("SHA-256",(new TextEncoder).encode(t)).then((function(e){for(var t=[],n=new DataView(e),r=0;r<n.byteLength;r+=4)t.push(("00000000"+n.getUint32(r).toString(16)).slice(-8));return t.join("")}))];case 1:return[2,o.sent()];case 2:throw new Error("Crypto not available in your environment")}}))}))()}},{key:"encodeBase64",value:function(e){return btoa(e)}},{key:"decodeBase64",value:function(e){return atob(e)}},{key:"base64UrlEncode",value:function(t){return e.encodeBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"base64UrlDecode",value:function(t){var n=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;return n&&(t+="=".repeat(4-n)),e.decodeBase64(t)}},{key:"jwt",value:function(){return new S}}]),e}();t.Hash=m;var g=function(e){s(n,e);var t=y(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(h(Error));t.JWTError=g;var w=function(e){s(n,e);var t=y(n);function n(){return i(this,n),t.call(this,S.INVALID_TOKEN)}return n}(g);t.JWTErrorInvalid=w;var k=function(e){s(n,e);var t=y(n);function n(){return i(this,n),t.call(this,S.EXPIRED_TOKEN)}return n}(g);t.JWTErrorExpired=k;var S=function(){function e(){i(this,e),this.validHeader={alg:"HS256",typ:"JWT"}}return l(e,[{key:"sign",value:function(e,t){var n=this;return o((function(){var r,o,i,a,u,l,c;return p(this,(function(s){switch(s.label){case 0:if(r=d.DateTime.from(t.exp),o=d.DateTime.now(),!r.valid)throw new w;if(r.lte(o))throw new g("The expiry time must greater now");if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new g("Must provide a strong secret key");return i=m.base64UrlEncode(JSON.stringify(n.validHeader)),a=m.base64UrlEncode(JSON.stringify({data:e,iat:o.iso,exp:r.iso})),u=m.base64UrlEncode(t.secret),c=m.base64UrlEncode,[4,m.sha256("".concat(i,".").concat(a,".").concat(u))];case 1:return l=c.apply(m,[s.sent()]),[2,"".concat(i,".").concat(a,".").concat(l)]}}))}))()}},{key:"verify",value:function(e,t){var n=this;return o((function(){var r,o,i,a,u,l,c;return p(this,(function(s){switch(s.label){case 0:if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new g("Must provide a strong secret key");if(r=e.split("."),o=n.decode(e),3!==r.length||!o)throw new w;return a=o.header,u=o.payload,(l=!(b.Is.equals(a,n.validHeader)&&b.Is.object(u)&&b.Is.equals(Object.keys(u),["data","iat","exp"])&&(i=d.DateTime.from(u.exp)).valid))?[3,2]:(c=m.base64UrlEncode,[4,m.sha256("".concat(r[0],".").concat(r[1],".").concat(m.base64UrlEncode(t.secret)))]);case 1:l=c.apply(m,[s.sent()])!==r[2],s.label=2;case 2:if(l)throw new w;if(i.lte("now"))throw new k;return[2,u.data]}}))}))()}},{key:"decode",value:function(e){try{var t=e.split(".");if(t.length>=3)return{header:JSON.parse(m.base64UrlDecode(t[0])),payload:JSON.parse(m.base64UrlDecode(t[1]))}}catch(e){}return null}}]),e}();t.JWT=S,S.INVALID_TOKEN="INVALID_TOKEN",S.EXPIRED_TOKEN="INVALID_IAT",S.EXPIRED="EXPIRED_TOKEN"},877:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(540),t),o(n(766),t),o(n(645),t),o(n(481),t),o(n(409),t),o(n(902),t),o(n(554),t),o(n(221),t)},409:(e,t,n)=>{function r(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,l,"next",e)}function l(e){r(a,o,i,u,l,"throw",e)}u(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Is=void 0;var l=n(540),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"equals",value:function(t,n){if(t===n)return!0;if((a(t,Date)||a(t,l.DateTime))&&(a(n,Date)||a(n,l.DateTime)))return t.valueOf()===n.valueOf();if(null!==t&&null!==n&&"object"===(void 0===t?"undefined":u(t))&&"object"===(void 0===n?"undefined":u(n))){if(t.constructor!==n.constructor)return!1;var r,o;if(t.constructor===Array){if((r=t.length)!==n.length)return!1;for(o=r;0!=o--;)if(!0!==e.equals(t[o],n[o]))return!1;return!0}if(t.constructor===Map){if(t.size!==n.size)return!1;var i=t.entries();for(o=i.next();!0!==o.done;){if(!0!==n.has(o.value[0]))return!1;o=i.next()}for(o=(i=t.entries()).next();!0!==o.done;){if(!0!==e.equals(o.value[1],n.get(o.value[0])))return!1;o=i.next()}return!0}if(t.constructor===Set){if(t.size!==n.size)return!1;var c=t.entries();for(o=c.next();!0!==o.done;){if(!0!==n.has(o.value[0]))return!1;o=c.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if((r=t.length)!==n.length)return!1;for(o=r;0!=o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();var s=Object.keys(t).filter((function(e){return void 0!==t[e]}));if((r=s.length)!==Object.keys(n).filter((function(e){return void 0!==n[e]})).length)return!1;for(o=r;0!=o--;){var f=s[o];if(!0!==e.equals(t[f],n[f]))return!1}return!0}return t!=t&&n!=n}},{key:"primitive",value:function(t,n){return e.each(n,t,(function(e){var t=void 0===e?"undefined":u(e),r=null===e||["string","number","bigint","boolean","symbol","undefined"].includes(t);return(null==n?void 0:n.type)?"null"===n.type&&null===e||n.type===t:r}))}},{key:"empty",value:function(t,n){return e.each(n,t,(function(e){switch(void 0===e?"undefined":u(e)){case"boolean":return!1===e;case"number":case"bigint":return 0===e||!e;case"string":return!e.trim().length}return a(e,Date)||a(e,l.DateTime)?isNaN(+e):a(e,Map)||a(e,Set)?!e.size:null!==e&&"object"===(void 0===e?"undefined":u(e))?!Object.keys(e).length:Array.isArray(e)||Buffer.isBuffer(e)?!e.length:!Boolean(e)}))}},{key:"object",value:function(t,n){return e.each(n,t,(function(e){return null!==e&&"object"===(void 0===e?"undefined":u(e))&&!Array.isArray(e)}))}},{key:"json",value:function(t,n){return e.each(n,t,(function(t){if(!e.object(t)&&!e.array(t))return!1;var n=function(t){if(e.array(t)){var r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;n(c)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}else if(e.object(t)){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error;for(var s in t)n(t[s])}else if(null!==t&&!["string","boolean","undefined","number"].includes(void 0===t?"undefined":u(t)))throw new Error};return n(t),!0}))}},{key:"array",value:function(t,n){return e.each(n,t,(function(e){return Array.isArray(e)}))}},{key:"asyncFunc",value:function(t,n){return e.each(n,t,(function(e){return a(e,o((function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){return[2]}))})).constructor)}))}},{key:"func",value:function(t,n){return e.each(n,t,(function(e){return"function"==typeof e}))}},{key:"callable",value:function(t,n){return e.each(n,t,(function(t){return e.func(t)||e.asyncFunc(t)}))}},{key:"number",value:function(t,n){return e.each(n,t,(function(e){return!("number"!=typeof e||isNaN(e)||(null==n?void 0:n.integer)&&!Number.isInteger(e)||"number"==typeof(null==n?void 0:n.min)&&e<n.min||"number"==typeof(null==n?void 0:n.max)&&e>n.max)}))}},{key:"boolean",value:function(t,n){return e.each(n,t,(function(e){return"boolean"==typeof e}))}},{key:"string",value:function(t,n){return e.each(n,t,(function(t){return!("string"!=typeof t||e.number(null==n?void 0:n.minLength)&&t.length<n.minLength||e.number(null==n?void 0:n.maxLength)&&t.length>n.maxLength||"email"===(null==n?void 0:n.format)&&!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"dateTime"===(null==n?void 0:n.format)&&!l.DateTime.parse(t)||"date"===(null==n?void 0:n.format)&&(!/^\d{4}-\d{2}-\d{2}$/.test(t)||!l.DateTime.parse(t))||"time"===(null==n?void 0:n.format)&&(!/^\d{2}:\d{2}:\d{2}(\.\d{1,3})?$/.test(t)||!l.DateTime.parse("2024-08-05T".concat(t)))||"creditCard"===(null==n?void 0:n.format)&&!e.creditCard(t)||"ipV4"===(null==n?void 0:n.format)&&!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)||"ipV6"===(null==n?void 0:n.format)&&!/^([0-9a-f]{1,4}:){6}|(:[0-9a-f]{1,4}){7}$/.test(t)||"mongoId"===(null==n?void 0:n.format)&&!/^[0-9a-fA-F]{24}$/.test(t)||"url"===(null==n?void 0:n.format)&&!Boolean(new URL(t))||"image"===(null==n?void 0:n.format)&&(!Boolean(new URL(t))||!/\.(jpe?g|png|gif|svg|ico|bmp|webp|tiff)$/i.test(t))||"base64"===(null==n?void 0:n.format)&&!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)||"md5"===(null==n?void 0:n.format)&&!/^[a-f0-9]{32}$/.test(t)||"sha1"===(null==n?void 0:n.format)&&!/^[a-f0-9]{40}$/.test(t)||"sha256"===(null==n?void 0:n.format)&&!/^[a-fA-F0-9]{64}$/.test(t)||"uuid"===(null==n?void 0:n.format)&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(t)||"jwt"===(null==n?void 0:n.format)&&!/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(t)||"number"===(null==n?void 0:n.format)&&!/^-?[0-9]+(\.[0-9]+)?$/.test(t)||"unsignedNumber"===(null==n?void 0:n.format)&&!/^[0-9]+(\.[0-9]+)?$/.test(t)||"integer"===(null==n?void 0:n.format)&&!/^-?[0-9]+(\.[0]+)?$/.test(t)||"unsignedInteger"===(null==n?void 0:n.format)&&!/^[0-9]+(\.[0]+)?$/.test(t)||"boolean"===(null==n?void 0:n.format)&&!["true","false"].includes(t)||"trim"===(null==n?void 0:n.format)&&/^\s+|\s+$/.test(t)||"json"===(null==n?void 0:n.format)&&"object"!==u(JSON.parse(t))||"alphanum"===(null==n?void 0:n.format)&&!/^[a-zA-Z0-9]+$/.test(t)||"lowercase"===(null==n?void 0:n.format)&&/[A-Z]/.test(t)||"uppercase"===(null==n?void 0:n.format)&&/[a-z]/.test(t)||a(null==n?void 0:n.format,RegExp)&&!n.format.test(t)||(null==n?void 0:n.strongPassword)&&!e.strongPassword(t,n.strongPassword))}))}},{key:"nodeJs",value:function(){return void 0!==n.g&&n.g&&void 0!==n.g.process&&void 0!==n.g.process.versions&&void 0!==n.g.process.versions.node}},{key:"strongPassword",value:function(t,n){return e.each(n,t,(function(e){if("string"!=typeof e)return!1;var t,r,o,i,a,u=null!==(t=null==n?void 0:n.minLength)&&void 0!==t?t:8,l=null!==(r=null==n?void 0:n.minSpecialChars)&&void 0!==r?r:1,c=null!==(o=null==n?void 0:n.minUpper)&&void 0!==o?o:1,s=null!==(i=null==n?void 0:n.minLower)&&void 0!==i?i:1,f=null!==(a=null==n?void 0:n.minNumber)&&void 0!==a?a:1;return!(e.length<u||(e.match(/[._-~`@#$%^&*()+=,]/g)||[]).length<l||(e.match(/[A-Z]/g)||[]).length<c||(e.match(/[a-z]/g)||[]).length<s||(e.match(/[0-9]/g)||[]).length<f)}))}},{key:"enum",value:function(t,n){return e.each(n,t,(function(e){return Array.isArray(null==n?void 0:n.enum)&&n.enum.includes(e)}))}},{key:"includes",value:function(t,n){return e.each(n,t,(function(r){var o=n.target;if(e.string(r))return!!e.string(o)&&r.includes(o);if(e.array(r))return!!r.find((function(t){return e.equals(t,o)}));if(e.object(r)&&(e.object(o)||e.string(o))){if(e.string(o))for(var i=o.split("."),a=t,u=0,l=i.length;u<l;u++){var c=i[u];if(!e.object(a)||!a.hasOwnProperty(c))return!1;a=a[c]}else for(var s in o)if(!t.hasOwnProperty(s)||!e.equals(r[s],o[s]))return!1;return!0}return e.equals(r,o)}))}},{key:"class",value:function(t,n){return e.each(n,t,(function(t){var n;return e.func(t)&&(null===(n=t.toString())||void 0===n?void 0:n.startsWith("class "))}))}},{key:"each",value:function(t,n,r){try{var o=!0===(null==t?void 0:t.optional),i=!0===(null==t?void 0:t.nullable)||void 0===(null==t?void 0:t.nullable)&&o;if(o&&void 0===n||i&&null===n)return!0;if(null==t?void 0:t.isArray){if(!Array.isArray(n))return!1;var a=[],l=!0,c=!1,s=void 0;try{for(var f,h=function(){var n=f.value;if(!r(n)||"unique"===t.isArray&&-1!==a.findIndex((function(t){return e.equals(t,n)})))return{v:!1};a.push(n)},v=n[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var y=h();if("object"===u(y))return y.v}}catch(e){c=!0,s=e}finally{try{l||null==v.return||v.return()}finally{if(c)throw s}}return!0}return r(n)}catch(e){return!1}}},{key:"creditCard",value:function(e,t){var n=new RegExp("^3[47][0-9]{13}$").test(e),r=new RegExp("^4[0-9]{12}(?:[0-9]{3})?$").test(e),o=new RegExp("^62[0-9]{14}[0-9]*$").test(e),i=new RegExp("^81[0-9]{14}[0-9]*$").test(e),a=new RegExp("^5[1-5][0-9]{14}$").test(e),u=new RegExp("^2[2-7][0-9]{14}$").test(e),l=new RegExp("^6011[0-9]{12}[0-9]*$").test(e),c=new RegExp("^62[24568][0-9]{13}[0-9]*$").test(e),s=new RegExp("^6[45][0-9]{14}[0-9]*$").test(e),f=new RegExp("^3[0689][0-9]{12}[0-9]*$").test(e),h=new RegExp("^35[0-9]{14}[0-9]*$").test(e);if(t)switch(t){case"VISA":return r;case"AMEX":return n;case"MASTERCARD":return a||u;case"DISCOVER":return l||c||s;case"DINERS":return f;case"JCB":return h;case"CHINA_UNION_PAY":return o||i}return n||r||o||i||a||u||l||c||s||f||h}}],null&&i(t.prototype,null),r&&i(t,r),e}();t.Is=c},902:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return o=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o},o.apply(null,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},c(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){var t=s();return function(){var n,r,o,i,u=a(e);if(t){var l=a(this).constructor;n=Reflect.construct(u,arguments,l)}else n=u.apply(this,arguments);return r=this,!(o=n)||"object"!=((i=o)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=t.RegistryConsistentError=t.RegistryDataError=void 0;var h=n(409),v=n(221),y=n(766),p=n(645),d=function(e){u(n,e);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(c(Error));t.RegistryDataError=d;var b=function(e){u(n,e);var t=f(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(c(Error));t.RegistryConsistentError=b;var m=function(){function e(t,n){r(this,e),this.consistent=!1,this.eventEmitter=new y.EventEmitter,this.cached={},this.parse(t,n),this.consistent=!0===(null==n?void 0:n.consistent)}var t,n,o;return t=e,o=[{key:"from",value:function(t,n){return new e(t,n)}}],(n=[{key:"extends",value:function(t){var n=this,r=function(e,t){if(h.Is.array(e)){t&&!h.Is.array(n.get(t))&&n.set(t,[]);for(var o=0,i=e.length;o<i;o++)r(e[o],"".concat(t?"".concat(t,"."):"").concat(o))}else if(h.Is.object(e))for(var a in t&&!h.Is.object(n.get(t))&&n.set(t,{}),e)r(e[a],"".concat(t?"".concat(t,"."):"").concat(a));else h.Is.primitive(e)&&t&&n.set(t,e)};return r(e.from(t).valueOf()),this}},{key:"parse",value:function(e,t){if(this.validateConsistent(),void 0===e)e={};else if(h.Is.string(e)&&["{","["].includes(e[0]))try{e=JSON.parse(e)}catch(e){throw new d("Invalid JSON string data")}else h.Is.primitive(e)||!1===(null==t?void 0:t.clone)||(e=p.Util.clone(e));if(this.data=e,!this.isPathArray()&&!this.isPathObject())throw new d("Invalid registry data, the data must be an Object<key, value> or a JSON string or an ARRAY");return!0===(null==t?void 0:t.validate)&&this.validate(),this.cached={},this}},{key:"validate",value:function(e){if(!this.isValidData(e))throw new d("The object element data must be a Record<key, value> or Array<[flat] | Record<key, value>> not from any Class/Function constructor");return this}},{key:"isValidData",value:function(e){if(e=null!=e?e:this.data,h.Is.array(e)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(h.Is.object(a)&&!h.Is.json(a))return!1}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}return!(h.Is.object(e)&&!h.Is.json(e))}},{key:"isPathNum",value:function(e){return/^\d+$/.test(e)}},{key:"preparePath",value:function(e){return e.match(/\[\d+\]/)&&(e=v.Transform.trim(e.replace(/\[(\d+)\]/g,".$1"),{specialChars:"."})),e}},{key:"get",value:function(e,t,n){var r=this.preparePath(e);if(void 0===this.cached[r])if(-1===r.indexOf("."))this.cached[r]=this.data[r];else{for(var o=r.split("."),i=this.data,a=0,u=o.length;a<u;a++)if(i=i[o[a]],!h.Is.json(i)){i=a+1===u?i:t;break}this.cached[r]=i}if(void 0===this.cached[r]||this.cached[r]===t)return t;var l=this.cached[r];return n&&(l=v.Transform.clean(l,n)),l}},{key:"validateConsistent",value:function(e){if(this.consistent)throw new b("This registry in consistent mode, make sure you don't get the no exists value and don't set/remove any value".concat(e?", path: ".concat(e):""))}},{key:"set",value:function(e,t,n){this.validateConsistent(e);var r=this.preparePath(e),o=this.get(e);for(var i in!0===n&&this.validate(t),this.cached)i.startsWith(r)&&delete this.cached[i];if(-1===r.indexOf("."))void 0===t?this.isPathNum(r)&&h.Is.array(this.data)?this.data.splice(Number(r),1):delete this.data[r]:this.data[r]=t;else{for(var a=this.data,u=r.split("."),l=u.length-1,c=0;c<l;c++){var s=u[c];if(!h.Is.json(a[s])){if(void 0===t)return this.isPathNum(s)&&h.Is.array(a[s])?a.splice(Number(s),1):delete a[s],this;this.isPathNum(s)?a[s]=[]:a[s]={}}a=a[s]}var f=this.isPathNum(u[l]);f&&h.Is.array(a)?a.splice(Number(u[l]),1):delete a[u[l]],void 0!==t&&(f&&!h.Is.array(a)&&(a=[]),a[u[l]]=t)}var v=this.get(e);return h.Is.equals(o,v)||this.eventEmitter.emit(r,v,o),void 0===t&&this.eventEmitter.remove(r),this}},{key:"initPathValue",value:function(e,t,n){return this.has(e)||this.set(e,t,n),t}},{key:"has",value:function(e){return!h.Is.primitive(this.get(e,void 0),{type:"undefined"})}},{key:"is",value:function(e,t){var n=this.get(e);return h.Is.primitive(t,{type:"undefined"})?v.Transform.toBoolean(n):n===t}},{key:"isCached",value:function(e){return this.cached.hasOwnProperty(this.preparePath(e))}},{key:"isPathArray",value:function(e){return h.Is.array(e?this.get(e):this.data)}},{key:"isPathObject",value:function(e){return h.Is.object(e?this.get(e):this.data)}},{key:"isPathFlat",value:function(e){return h.Is.primitive(this.get(e))}},{key:"remove",value:function(e){return this.set(e,void 0)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"valueOf",value:function(){return this.data}},{key:"clone",value:function(){return e.from(this.data,{clone:!0,consistent:this.consistent})}},{key:"pick",value:function(t){var n=e.from(),r=!0,o=!1,i=void 0;try{for(var a,u=(h.Is.array(t)?t:[t])[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,c=this.preparePath(l);n.set(c,this.get(c))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n.consistent=this.consistent,n}},{key:"omit",value:function(e){var t=this.clone();t.consistent=!1;var n=!0,r=!1,o=void 0;try{for(var i,a=(h.Is.array(e)?e:[e])[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t.remove(this.preparePath(u))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.consistent=this.consistent,t}},{key:"watch",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=(h.Is.array(e)?e:[e])[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=this.preparePath(u);this.eventEmitter.has(l)||this.eventEmitter.on(l,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"isEmpty",value:function(){return h.Is.empty(this.valueOf())}}])&&i(t.prototype,n),o&&i(t,o),e}();t.Registry=m},554:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function l(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i,u=a(e);if(t){var l=a(this).constructor;n=Reflect.construct(u,arguments,l)}else n=u.apply(this,arguments);return r=this,!(o=n)||"object"!=((i=o)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}Object.defineProperty(t,"__esModule",{value:!0}),t.Schema=t.EnumSchema=t.ArraySchema=t.ObjectSchema=t.BooleanSchema=t.NumberSchema=t.StringSchema=t.BaseSchema=void 0;var f=n(409),h=function(){function e(){r(this,e),this.options={},this.isType=this.constructor.name.replace("Schema","").toLowerCase()}return i(e,[{key:"isAllowNull",get:function(){return!0===this.options.nullable||void 0===this.options.nullable&&!0===this.options.optional}},{key:"isArray",value:function(e){return this.options.isArray=void 0===e||!0===e,this}},{key:"optional",value:function(e){return this.options.optional=void 0===e||!0===e,this}},{key:"nullable",value:function(e){return this.options.nullable=void 0===e||!0===e,this}},{key:"check",value:function(e){switch(this.isType){case"number":case"boolean":case"string":return f.Is[this.isType].call(this,e,this.options);default:return!1}}}]),e}();t.BaseSchema=h;var v=function(e){u(n,e);var t=s(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,n),(e=t.call(this)).options=o,e}return i(n,[{key:"minLength",value:function(e){return this.options.minLength=e,this}},{key:"maxLength",value:function(e){return this.options.maxLength=e,this}},{key:"format",value:function(e){return this.options.format=e,this}},{key:"strongPassword",value:function(e){return this.options.format="strongPassword",this.options.strongPassword=null!=e?e:{},this}},{key:"buildSchema",value:function(){return{type:this.isAllowNull?["null","string"]:"string",minLength:this.options.minLength,maxLength:this.options.maxLength,format:"dateTime"===this.options.format?"date-time":["date","time","email","ipV4","ipV6","url"].includes(this.options.format)?this.options.format.toLowerCase().replace("url","uri"):void 0}}}]),n}(h);t.StringSchema=v;var y=function(e){u(n,e);var t=s(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,n),(e=t.call(this)).options=o,e}return i(n,[{key:"integer",value:function(e){return this.options.integer=void 0===e||!0===e,this}},{key:"min",value:function(e){return this.options.min=e,this}},{key:"max",value:function(e){return this.options.max=e,this}},{key:"buildSchema",value:function(){var e=!0===this.options.integer?"integer":"number";return{type:this.isAllowNull?["null",e]:e,minimum:this.options.min,maximum:this.options.max}}}]),n}(h);t.NumberSchema=y;var p=function(e){u(n,e);var t=s(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,n),(e=t.call(this)).options=o,e}return i(n,[{key:"buildSchema",value:function(){return{type:this.isAllowNull?["null","boolean"]:"boolean"}}}]),n}(h);t.BooleanSchema=p;var d=function(e,t,n){if(!f.Is.object(t))throw new Error;for(var r in t)if(!e.keys.includes(r)){if(n){delete t[r];continue}throw new Error}},b=function(e,t,n,r){if(l(e,m))void 0===n&&(n=e.isWhiteList),d(e,t,n),e.each((function(e,r){return b(e,t[r],n)}));else if(l(e,h)&&!e.check(t))throw new Error},m=function(e){u(n,e);var t=s(n);function n(e){var o;return r(this,n),(o=t.call(this)).properties=e,o._isWhiteList=!1,o}return i(n,[{key:"isWhiteList",get:function(){return this._isWhiteList}},{key:"keys",get:function(){return Object.keys(this.properties)}},{key:"each",value:function(e){if(f.Is.callable(e)&&!f.Is.empty(this.properties))for(var t in this.properties)e.call(this,this.properties[t],t)}},{key:"whiteList",value:function(e){return this._isWhiteList=void 0===e||!0===e,this}},{key:"check",value:function(e){var t=this;return f.Is.each(this.options,e,(function(e){try{d(t,e,t.isWhiteList),t.each((function(n,r){return b(n,e[r],t.isWhiteList,r)}))}catch(e){return!1}return!0}))}},{key:"buildSchema",value:function(){var e={type:this.isAllowNull?["null","object"]:"object",required:this.keys,properties:{}};return this.each((function(t,n){e.properties[n]=t.buildSchema()})),e}}]),n}(h);t.ObjectSchema=m;var g=function(e){u(n,e);var t=s(n);function n(e){var o;return r(this,n),(o=t.call(this)).itemsProps=e,o}return i(n,[{key:"check",value:function(e){var t=this;return f.Is.each(this.options,e,(function(e){if(!f.Is.array(e))return!1;var n=t.itemsProps;if(n)if(f.Is.array(n)){if(n.length!==e.length)return!1;for(var r=0,o=n.length;r<o;r++)if(!n[r].check(e[r]))return!1}else{var i=!0,a=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value;if(!n.check(s))return!1}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}}return!0}))}},{key:"buildSchema",value:function(){var e={type:this.isAllowNull?["null","array"]:"array",prefixItems:[],items:{}},t=this.itemsProps;if(t)if(f.Is.array(t))for(var n=0,r=t.length;n<r;n++)e.prefixItems[n]=t[n].buildSchema();else e.items=t.buildSchema();return f.Is.empty(e.prefixItems)&&delete e.prefixItems,f.Is.empty(e.items)&&delete e.items,e}}]),n}(h);t.ArraySchema=g;var w=function(e){u(n,e);var t=s(n);function n(e){var o;return r(this,n),(o=t.call(this)).emum=e,o}return i(n,[{key:"valid",value:function(e){return this.emum=e,this}},{key:"check",value:function(e){var t=this;return f.Is.each(this.options,e,(function(e){var n;return!!(null===(n=t.emum)||void 0===n?void 0:n.includes(e))}))}},{key:"buildSchema",value:function(){var e,t={type:["string","number","integer","boolean"],enum:null!==(e=this.emum)&&void 0!==e?e:[]};return this.isAllowNull&&t.type.push("null"),t}}]),n}(h);t.EnumSchema=w;var k=function(){function e(){r(this,e)}return i(e,null,[{key:"string",value:function(e){return new v(e)}},{key:"number",value:function(e){return new y(e)}},{key:"boolean",value:function(e){return new p(e)}},{key:"enum",value:function(e){return new w(e)}},{key:"object",value:function(e){return new m(e)}},{key:"array",value:function(e){return new g(e)}}]),e}();t.Schema=k},221:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var i=n(409),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"trim",value:function(t,n){var r,o,i,a=e.toString(t),u=null!==(i=null==n||null===(o=n.specialChars)||void 0===o||null===(r=o.split(""))||void 0===r?void 0:r.join("|"))&&void 0!==i?i:"",l=(null==n?void 0:n.pos)||"both",c=/[\n\t\s]/,s=function(){for(var e=0,t=a.length;e<t;e++)if(!(a[e].match(c)||u.length&&u.includes(a[e])))return a.substring(e);return""};switch(l){case"left":return u?s():a.trimStart();case"right":return u?function(){for(var e=a.length-1;e>=0;e--)if(!(a[e].match(c)||u.length&&u.includes(a[e])))return a.substring(0,e+1);return""}():a.trimEnd();default:return u?function(){for(var e=s().split(""),t=e.length-1;t>=0&&(e[t].match(c)||u.length&&u.includes(e[t]));t--)e.splice(t,1);return e.join("")}():a.trim()}}},{key:"toString",value:function(e){switch(void 0===e?"undefined":o(e)){case"string":return e;case"object":if(Array.isArray(e)||null!==e)return JSON.stringify(e);default:return String(e)}}},{key:"toJsonObject",value:function(e,t){if((i.Is.object(e)||i.Is.array(e))&&(e=JSON.stringify(e)),i.Is.string(e)&&["{","["].includes(e[0]))try{return JSON.parse(e)}catch(e){}return i.Is.object(t)?t:i.Is.primitive(e,{type:"null"})||i.Is.primitive(e,{type:"undefined"})?{}:[e]}},{key:"toBoolean",value:function(e){switch(void 0===e?"undefined":o(e)){case"number":case"bigint":return 0!==e;case"boolean":return e;case"string":if("true"===(e=e.trim().toLowerCase())||"1"===e)return!0;if("false"===e||"0"===e)return!1}return Boolean(e)}},{key:"toNumber",value:function(e){switch(void 0===e?"undefined":o(e)){case"number":case"bigint":return e;case"boolean":return e?1:0;default:var t=Number(e);return isNaN(t)?0:t}}},{key:"toArrayUnique",value:function(e){if(Array.isArray(e)){var t=[],n=!0,r=!1,o=void 0;try{for(var a,u=function(){var e=a.value;t.length&&-1!==t.findIndex((function(t){return i.Is.equals(t,e)}))||t.push(e)},l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0)u()}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}return[e]}},{key:"toPath",value:function(t){return e.toString(t).trim().toLowerCase().replace(/[^a-z0-9-/]/gi,"-").replace(/-+/g,"-").replace(/\/+/g,"/").replace(/^\/+|\/+$/g,"").replace(/^-+|-+$/g,"")}},{key:"toAlnum",value:function(t){return e.toString(t).trim().replace(/[^a-zA-Z0-9]/g,"")}},{key:"toNoneDiacritics",value:function(t){return e.toString(t).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},{key:"toNonAccent",value:function(t){return t=e.toString(t).replace(/||||||||||||||||/g,"a").replace(/||||||||||/g,"e").replace(/||||/g,"i").replace(/||||||||||||||||/g,"o").replace(/||||||||||/g,"u").replace(/||||/g,"y").replace(//g,"d").replace(/||||||||||||||||/g,"A").replace(/||||||||||/g,"E").replace(/||||/g,"I").replace(/||||||||||||||||/g,"O").replace(/||||||||||/g,"U").replace(/||||/g,"Y").replace(//g,"D").replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"").replace(/\u02C6|\u0306|\u031B/g,""),e.toNoneDiacritics(t)}},{key:"toASCIIString",value:function(t){return e.toNoneDiacritics(e.toString(t)).replace(/[^a-zA-Z0-9\s]/g,"")}},{key:"toSafeFileName",value:function(t){var n=e.toNonAccent(t),r="";if(n.includes(".")){var o=n.split(".");r=o.pop(),n=o.join(".")}return"".concat(e.toASCIIString(e.toPath(n))).concat(r?".".concat(r):"")}},{key:"toDefault",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[null,void 0,NaN];if(!o.includes(e))return e;for(var i=0,a=n.length;i<a;i++){var u=n[i];if(!o.includes(u))return u}}},{key:"toStripTags",value:function(t,n){n=(((n||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var r=/<\/?([a-z0-9]*)\b[^>]*>?/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,i=e.toString(t);for(i="<"===i.substring(i.length-1)?i.substring(0,i.length-1):i;;){var a=i;if(i=a.replace(o,"").replace(r,(function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""})),a===i)return i}}},{key:"toSafeHtml",value:function(t,n){var r=Array.isArray(null==n?void 0:n.allowedTags)?n.allowedTags:["p","b","i","em","strong","a","ul","ol","li","br","hr","img","table","thead","tfoot","tr","td","th","div","span","h1","h2","h3","h4","h5","h6"],o=Array.isArray(null==n?void 0:n.allowedAttributes)?n.allowedAttributes:["href","src"];return r.length?e.trim(t).replace(/<\/?([^\>]+)>/gi,(function(e,t){var n=t.split(" ")[0];return r.includes(n)?e.replace(/([a-z0-9_-]+)\s*=\s*["']([^"']+)["']/gi,(function(e){var t,n=null===(t=e.split("=")[0])||void 0===t?void 0:t.trim();return o.includes(n)?e.trim():""})).trim().replace(/<\s+/g,"<").replace(/\s+>/g,">"):""})).replace(/\s+/gi," "):e.toStripTags(t)}},{key:"clean",value:function(t,n){Array.isArray(n)||(n=[n]);var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)t=e[a.value].call(null,t)}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t}}],null&&r(t.prototype,null),n&&r(t,n),e}();t.Transform=a},645:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return a=v()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o},a.apply(null,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},h(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.UtilRaceError=void 0;var y=n(409),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n,r=(t=o,n=v(),function(){var e,r,o,i,a=l(t);if(n){var u=l(this).constructor;e=Reflect.construct(a,arguments,u)}else e=a.apply(this,arguments);return r=this,!(o=e)||"object"!=((i=o)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function o(){return i(this,o),r.apply(this,arguments)}return o}(h(Error));t.UtilRaceError=p;var d=function(){function e(){i(this,e)}var t,n;return t=e,n=[{key:"clone",value:function(t){if(y.Is.primitive(t))return t;var n=t;if(y.Is.object(n)&&y.Is.func(n.clone))return n.clone();if(c(n,Date))return new Date(n);if(c(n,RegExp))return new RegExp(n.source,n.flags);if(c(n,Set)){var r=new Set;return n.forEach((function(t){return r.add(e.clone(t))})),r}if(c(n,Map)){var o=new Map;return n.forEach((function(t,n){return o.set(n,e.clone(t))})),o}if(y.Is.array(n)){var i=[];return n.forEach((function(t){return i.push(e.clone(t))})),i}if(y.Is.object(n)){var a,u={};return(a=Object).assign.apply(a,[u].concat(f(Object.keys(n).map((function(t){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,e.clone(n[t]))}))))),u}if("function"==typeof(null==n?void 0:n.constructor)){var l="function"==typeof n.valueOf?n.valueOf():void 0;if(l&&Object(l)!==l)return new n.constructor(l)}return n}},{key:"call",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i;return y.Is.class(t)?a(t,f(r)):y.Is.callable(t)?(i=t).call.apply(i,[e].concat(f(r))):t}},{key:"callAsync",value:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a;return Promise.resolve((a=e).call.apply(a,[t,n].concat(f(o))))}},{key:"sort",value:function(e,t){var n=null==t?void 0:t.key,r=!0===(null==t?void 0:t.desc),o=function(e,t){return r?e>t?-1:e<t?1:0:e<t?-1:e>t?1:0};if(Array.isArray(e))n?e.sort((function(e,t){return y.Is.object(e)&&y.Is.object(t)?o(e[n],t[n]):o(e,t)})):e.sort(o);else if(y.Is.object(e)){var i=Object.keys(e),a={};i.sort((function(e,t){var n=/^-?\d+\.?\d*$/;return n.test(e)&&n.test(t)?o(Number(e),Number(t)):o(e,t)}));var u=!0,l=!1,c=void 0;try{for(var s,f=i[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var h=s.value;a[h]=e[h]}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}for(var v in e)delete e[v];Object.assign(e,a)}return e}},{key:"baseName",value:function(e,t){var n=e,r=n.charAt(n.length-1);return"/"!==r&&"\\"!==r||(n=n.slice(0,-1)),n=n.replace(/^.*[/\\]/g,""),"string"==typeof t&&n.substring(n.length-t.length)===t&&(n=n.substring(0,n.length-t.length)),n}},{key:"dirName",value:function(e){return e.replace(/\\/g,"/").replace(/\/[^/]*\/?$/,"")}},{key:"race",value:function(t,n){return(r=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,Promise.race([Promise.resolve(e.callAsync(null,t)),new Promise((function(e,t){setTimeout((function(){return t(new p("Race timeout."))}),n)}))])];case 1:return[2,r.sent()]}}))},function(){var e=this,t=arguments;return new Promise((function(n,i){var a=r.apply(e,t);function u(e){o(a,n,i,u,l,"next",e)}function l(e){o(a,n,i,u,l,"throw",e)}u(void 0)}))})();var r}},{key:"numberFormat",value:function(e,t){var n,r,o,i;if(isNaN(e))return"NaN";var a=e.toFixed(null!==(r=null==t?void 0:t.decimals)&&void 0!==r?r:0).replace(".",null!==(o=null==t?void 0:t.decimalPoint)&&void 0!==o?o:".").replace(/\B(?=(\d{3})+(?!\d))/g,null!==(i=null==t?void 0:t.separator)&&void 0!==i?i:",");return(null==t?void 0:t.prefix)&&(a="".concat(t.prefix).concat(a)),(null==t?void 0:t.suffix)&&(a="".concat(a).concat(t.suffix)),(null==t||null===(n=t.pattern)||void 0===n?void 0:n.includes("{value}"))&&(a=t.pattern.replace("{value}",a)),a}},{key:"uFirst",value:function(e){return e.length>1?"".concat(e[0].toUpperCase()).concat(e.substring(1)):e}},{key:"lFirst",value:function(e){return e.length>1?"".concat(e[0].toLowerCase()).concat(e.substring(1)):e}},{key:"toCapitalize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.split(/\b/).map(e.uFirst);return n?r.filter((function(e){return!!e.trim()&&!/\W/.test(e)})).join(""):r.join("")}},{key:"toCamelCase",value:function(t){return e.lFirst(e.toCapitalize(t,!0))}},{key:"camelToSnackCase",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];t.push(o===o.toUpperCase()?"_".concat(o):o)}return t.join("").toLowerCase()}},{key:"snackToCamelCase",value:function(e){for(var t=[],n=!1,r=0,o=e.length;r<o;r++){var i=e[r];"_"!==i?n?(n=!1,t.push(i.toUpperCase())):t.push(i.toLowerCase()):n=!0}return t[0]&&(t[0]=t[0].toLowerCase()),t.join("")}},{key:"cloneObjectToCamelCase",value:function(t){if(!y.Is.object(t))return t;var n={},r=function(t,n){for(var o in t){var i=e.snackToCamelCase(o);y.Is.array(t[o])||y.Is.object(t[o])?(n[i]=y.Is.array(t[o])?[]:{},r(t[o],n[i])):n[i]=t[o]}};return r(e.clone(t),n),n}},{key:"truncate",value:function(e,t){var n=t.pad||"...",r=t.maxLength||50;if(e=e.trim(),!0===t.wordCount){var o=e.split(/\s+/),i=o.length,a=o.slice(0,r);e=a.join(" "),i>a.length&&(e+=n)}else e.length>(e=e.substring(0,r)).length&&(e+=n);return e}},{key:"repeat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;if((t=parseInt(t.toString()))<=0)return"";for(;--t>0;)n="".concat(n).concat(e);return n}}],null&&u(t.prototype,null),n&&u(t,n),e}();t.Util=d},769:(e,t)=>{function n(e,t,r){return n=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},n.apply(null,arguments)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return n(e,arguments,r(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o(a,e)},i(e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.IsError=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,i=(t=u,n=a(),function(){var e,o,i,a,u=r(t);if(n){var l=r(this).constructor;e=Reflect.construct(u,arguments,l)}else e=u.apply(this,arguments);return o=this,!(i=e)||"object"!=((a=i)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof i?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):i});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return u}(i(Error));t.IsError=u}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n(885)})()));